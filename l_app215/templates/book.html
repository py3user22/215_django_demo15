{% extends 'base.html' %}
{% load static %}

{% block content %}
<section>
  <article>
    <!-- Add your code in the line below  -->
    <h1> <!--Add title here --> Make a Reservation </h1>

    <!--Begin row-->
    <div class="row">
            <!--Begin col-->
        <div class="column">
            <form action="/book/" method="post">
                {% csrf_token %}
                {{form.as_p}}

                <button type="submit" id="button"> Reserve </button>

            </form>

        </div>  <!--End col-->

                <!--Begin col-->
        <div class="column">
            <h2>Bookings For
                <span id="spany" style="color:red; font-weight:bold;"  >
                    ___date enter here!___
                    
                </span>
            </h2>
            {% for reservation in reservations %}
                <p>
                    {{ reservation.first_name }}: {{ reservation.reservation_date }}
                </p>
            {% endfor %}



            <p>
                Date: <br>
                <span class="event-date" id="spany2" style="background-color: lightgreen;" >
                    Match date above & show entire date and reservations
                </span>

            </p>




            <div>
                <!-- lab2 step11, inside script tag, add code..  -->
                <script>
                    var hiyo = 'Hello World @211 @212'
                    var date2 = ' < Names and date from date>'
                    document.write(hiyo);
                    document.write(date2);


                </script>

            </div>
        </div>   <!--End col-->
    </div>
    <!--End row-->




  </article>
</section>
<!-- Add your code inside the script tags below  -->
<script>
        const form = document.getElementById('form');
                form.addEventListener("button:s", submitHandler);

                function submitHandler(e) {
                    e.preventDefault();

                    fetch(form.action, {method:'POST', body: new BookingForm(ModelForm)})
                    .then(response=>response.json())
                    .then(data=>{
                            if (data.message === 'success') {
                                alert('Success!');
                                form.reset()
                            }
                    });
                }



  
</script>
{% endblock %}

